(function(e){function t(t){for(var a,o,s=t[0],l=t[1],u=t[2],d=0,v=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(v.length)v.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("3ebb"),r=n.n(a);r.a},"3ebb":function(e,t,n){var a=n("e31a");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("499e").default;r("517436b3",a,!0,{sourceMap:!1,shadowMode:!1})},"3ec3":function(e,t,n){"use strict";var a=n("fdf4"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-md vertical-center overflow-hidden",on:{click:function(t){e.showTilt=!e.showTilt}}},[e.error?n("div",[n("h1",[e._v("Error reading the data file")])]):e.showTilt?n("div",{staticClass:"row"},[n("tilt",{attrs:{name:"Pitching",value:e.engine.xTilt}}),n("tilt",{attrs:{name:"Rolling",value:e.engine.yTilt}})],1):n("div",{staticClass:"col-12"},[n("div",{staticClass:"row mb-4"},[n("badge",{attrs:{name:"Speed",unit:"km/h",value:e.engine.vehicleSpeed}}),n("badge",{attrs:{name:"RPM",value:e.engine.engineRPM}}),n("badge",{attrs:{name:"Fuel level",unit:"%",value:e.engine.fuelLevel}}),n("div",{staticClass:"clearfix"}),n("badge",{attrs:{name:"Air temperature",unit:"C°",value:e.engine.ambientAirTemperature}}),n("badge",{attrs:{name:"Air intake temperature",unit:"C°",value:e.engine.intakeAirTemperature}}),n("badge",{attrs:{name:"Oil temperature",unit:"C°",value:e.engine.oilTemperature}}),n("badge",{attrs:{name:"Coolant temperature",unit:"C°",value:e.engine.coolantTemperature}})],1),n("div",{staticClass:"row"},[n("progress-bar",{attrs:{name:"Engine load",unit:"%",level:e.engine.engineLoad,min:0,max:100}}),n("progress-bar",{attrs:{name:"Throttle position",unit:"%",level:e.engine.relativeThrottlePosition,min:0,max:100,is_graded:"true"}}),n("progress-bar",{attrs:{name:"Actual torque",unit:"%",level:e.engine.actualTorque,min:0,max:100,is_graded:"true"}})],1)])])},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"undefined"!=typeof this.level?n("div",{staticClass:"col-4 text-center"},[n("div",{staticClass:"progress"},[n("div",{class:[e.state,"progress-bar"],style:{width:e.normalized+"%"},attrs:{role:"progressbar","aria-valuenow":e.normalized,"aria-valuemin":e.min,"aria-valuemax":e.max}})]),""===e.unit?n("span",{staticClass:"mt-1 d-block"},[e._v(e._s(e.name)+": "+e._s(e.level))]):n("span",{staticClass:"mt-1 d-block"},[e._v(e._s(e.name)+" ("+e._s(e.unit)+"): "+e._s(e.level))])]):n("div",{staticClass:"col-4 text-center"},[e._v(e._s(e.name)+" not available")])},s=[],l={name:"ProgressBar",props:["name","unit","is_graded","level","min","max"],computed:{state:function(){return this.is_graded?this.normalized>=90?"bg-danger":this.normalized>=70?"bg-warning":"bg-success":""},normalized:function(){return Math.round(100*(this.level-this.min)/(this.max-this.min))}}},u=l,c=n("2877"),d=Object(c["a"])(u,o,s,!1,null,null,null),v=d.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"undefined"!=typeof e.value?n("div",{staticClass:"col text-center"},[n("span",{staticClass:"display-1 font-weight-bold"},[e._v(e._s(e.value))]),e.unit?n("small",[e._v(e._s(e.unit))]):e._e(),n("p",{staticClass:"mb-0"},[e._v(e._s(e.name))])]):n("div",{staticClass:"col text-center"},[e._v(e._s(e.name)+" not available")])},g=[],f={name:"Badge",props:["name","unit","value"]},m=f,b=Object(c["a"])(m,p,g,!1,null,null,null),h=b.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"undefined"!=typeof e.value?n("div",{staticClass:"col-6 text-center position-relative"},[n("div",{staticClass:"angle-container"},[n("div",{staticClass:"angle",style:{transform:e.rotation}})]),n("span",{staticClass:"display-1 font-weight-bold"},[e._v(e._s(e.value)+"°")]),n("p",{staticClass:"mb-0"},[e._v(e._s(e.name))])]):n("div",{staticClass:"col-6 text-center position-relative"},[e._v(" "+e._s(e.name)+" not available ")])},y=[],w={name:"Tilt",props:["name","value"],computed:{rotation:function(){return"rotate(".concat(this.value,"deg)")}}},x=w,C=(n("3ec3"),Object(c["a"])(x,_,y,!1,null,null,null)),T=C.exports,O={name:"App",components:{ProgressBar:v,Badge:h,Tilt:T},data:function(){return{error:!1,showTilt:!1,engine:{vehicleSpeed:95,engineRPM:500,fuelLevel:45,ambientAirTemperature:32,oilTemperature:45,coolantTemperature:45,intakeAirTemperature:60,engineLoad:45,relativeThrottlePosition:71,actualTorque:91,xTilt:30,yTilt:60}}},mounted:function(){var e=this;if(window.EventSource){var t=new EventSource("/events");t.onopen=function(){return console.log("Events source connected")},t.onerror=function(e){e.target.readyState!=EventSource.OPEN&&console.log("Event source closed")},t.onmessage=function(e){return console.log(e.data)},t.addEventListener("dataupdate",(function(t){return e.updateEngine(t.data)}),!1)}setInterval((function(){for(var t in e.engine)e.engine[t]+=Math.round(e.engine[t]*(Math.random()-.5)*.1)}),1e3)},methods:{updateEngine:function(e){var t=JSON.parse(e);"undefined"!=t["error"]?(this.error=!0,console.log("OBD error, check board log")):this.engine=JSON.parse(e)}}},k=O,P=(n("034f"),Object(c["a"])(k,r,i,!1,null,null,null)),E=P.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(E)}}).$mount("#app")},"9f35":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,":root{--size:40vw}.angle-container{position:absolute;z-index:-10;top:50%;margin-top:calc(-1*var(--size)/2);left:50%;margin-left:calc(-1*var(--size)/2);height:var(--size);width:var(--size);opacity:.2;background-color:var(--bs-gray);border-radius:100%}.angle{position:relative;top:50%;transform-origin:top center;transition:transform .5s linear;height:50%;width:100%;background-color:var(--bs-white);border-radius:0 0 calc(var(--size)/2) calc(var(--size)/2)}",""]),e.exports=t},e31a:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,"body,html{height:100%}body{background-color:var(--bs-dark);color:var(--bs-light)}.row{align-items:center}.progress{background-color:var(--bs-gray);background:repeating-linear-gradient(90deg,var(--bs-gray),var(--bs-gray) 5px,var(--bs-gray-dark) 0,var(--bs-gray-dark) 10px)}.vertical-center{min-height:100%;min-height:100vh;display:flex;align-items:center}",""]),e.exports=t},fdf4:function(e,t,n){var a=n("9f35");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("499e").default;r("1840fb7e",a,!0,{sourceMap:!1,shadowMode:!1})}});